
/*
 * Updated global styles for Envirosafe Removal.
 *
 * This stylesheet applies the brand palette of primary navy (#0F1727), safety green (#6BBE44) and white (#FFFFFF).
 * Typography uses Open Sans for a clean, professional look. The layout is mobile responsive using a simple media query.
 */

/* Reset and base styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Open Sans', sans-serif;
  background-color: #f8f9fa;
  color: #0B2038;
  line-height: 1.6;
}

/* Header */
header {
  /*
   * Use a more compact header to avoid the navigation bar taking up
   * excessive vertical space. Reduce the overall padding and update
   * the colours to blend with the logo background. The border
   * remains for subtle separation from the page body.
   */
  background-color: #0F1727;
  color: #ffffff;
  padding: 0.6rem 1rem;
  text-align: center;
  border-bottom: 4px solid #6BBE44;
}

header img.logo {
  /* Fix typo in height and reduce the logo height for a sleeker header */
  height: 120px;
  margin-bottom: 0.3rem;
}

header h1 {
  /* Reduce font size and margin for a more balanced header */
  font-size: 1.8rem;
  font-weight: 700;
  margin-bottom: 0.3rem;
}

/* Navigation */
nav {
  background-color: #0F1727;
  text-align: center;
}

nav ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

nav li {
  margin: 0.5rem 0.75rem;
}

nav a {
  color: #ffffff;
  text-decoration: none;
  /* Reduce link padding to prevent the menu from appearing overly tall */
  padding: 0.6rem 1rem;
  font-weight: 600;
  display: inline-block;
  transition: background 0.3s ease;
  border-radius: 4px;
}

nav a:hover {
  background-color: #6BBE44;
  color: #0F1727;
}

/* Hero section */
.hero {
  background-color: #f2f4f7;
  text-align: center;
  /* Reduce hero padding to avoid the header and hero together taking up too much of the viewport */
  padding: 2rem 1.5rem;
}

.hero h1 {
  color: #0B2038;
  font-size: 2rem;
  margin-bottom: 0.6rem;
}

.hero p {
  color: #333333;
  font-size: 1.1rem;
  margin-bottom: 1.2rem;
}

/* CTA button */
.cta-button {
  display: inline-block;
  padding: 0.9rem 2rem;
  background-color: #6BBE44;
  color: #0B2038;
  font-weight: bold;
  text-decoration: none;
  border-radius: 4px;
  transition: background-color 0.3s ease;
}

/* Style the service links on the home page as buttons */
.service-buttons {
  list-style: none;
  padding: 0;
  margin: 1rem 0;
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
}
.service-buttons li {
  margin: 0;
}
/*
 * Service buttons
 *
 * On the home page we use actual <button> elements for service links rather than
 * plain anchor tags. These styles apply to those buttons so they look like
 * clickable calls to action. If anchors are used instead, they will still
 * inherit similar styling from the earlier rules, but buttons provide a
 * better semantic distinction and avoid default link colours.
 */
.service-buttons a {
  /* Preserve anchor styles in case anchors are used. */
  display: inline-block;
  padding: 0.75rem 1.25rem;
  background-color: #6BBE44;
  color: #0F1727;
  text-decoration: none;
  font-weight: 600;
  border-radius: 4px;
  transition: background-color 0.3s ease, color 0.3s ease;
}
.service-buttons a:hover {
  background-color: #5AAE39;
  color: #ffffff;
}

/* Buttons used for service navigation on the home page */
.service-buttons button {
  display: inline-block;
  padding: 0.75rem 1.25rem;
  background-color: #6BBE44;
  color: #0F1727;
  font-weight: 600;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.3s ease, color 0.3s ease;
}
.service-buttons button:hover {
  background-color: #5AAE39;
  color: #ffffff;
}

.cta-button:hover {
  background-color: #5AAE39;
}

/* Sections */
section {
  max-width: 1100px;
  margin: 0 auto;
  padding: 2rem;
}

/* Centre images within sections and constrain width */
section img {
  display: block;
  margin-left: auto;
  margin-right: auto;
  max-width: 90%;
  height: auto;
  margin-top: 1rem;
  margin-bottom: 1rem;
}

section h1, section h2 {
  font-size: 1.8rem;
  margin-bottom: 1rem;
  color: #0B2038;
}

/* Footer */
footer {
  background-color: #0B2038;
  color: #ffffff;
  text-align: center;
  padding: 1.2rem;
  margin-top: 2rem;
  font-size: 0.9rem;
}

/* Responsive design */
@media (max-width: 768px) {
  header h1 {
    font-size: 1.6rem;
  }
  .hero h1 {
    font-size: 1.6rem;
  }
  nav a {
    display: block;
    padding: 0.6rem 1rem;
  }
  .cta-button {
    width: 80%;
    margin: 1rem auto;
    display: block;
    text-align: center;
  }
  section {
    padding: 1.5rem;
  }
}

/* Enhanced mobile navigation spacing */
@media (max-width: 768px) {
  nav ul {
    flex-direction: column;
    align-items: center;
  }
  nav li {
    margin: 0.4rem 0;
  }
  nav a {
    width: 100%;
    padding: 0.8rem 1rem;
  }
}
/* Compact header navigation with dropdown menus */
.main-nav {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
  background-color: #0F1727;
  flex-wrap: wrap;
}
.main-nav > li {
  position: relative;
  margin: 0 1rem;
}
.main-nav a {
  color: #ffffff;
  text-decoration: none;
  padding: 0.8rem 1.2rem;
  display: block;
  font-weight: 600;
  border-radius: 4px;
}
.main-nav a:hover {
  background-color: #6BBE44;
  color: #0F1727;
}
.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  background-color: #0F1727;
  list-style: none;
  padding: 0.5rem 0;
  min-width: 220px;
  z-index: 1000;
  display: none !important;
}
.dropdown-menu li a {
  padding: 0.6rem 1rem;
  color: #ffffff;
}
.dropdown-menu li a:hover {
  background-color: #6BBE44;
  color: #0F1727;
}
/* Show dropdown on hover for desktop */
.dropdown:hover > .dropdown-menu {
  display: block !important;
}
/* Show dropdown when .open class added (mobile click) */
@media (min-width: 901px) {
  .dropdown:hover > .dropdown-menu {
    display: block;
  }
}

/* When a dropdown is open, highlight the trigger link
   so users know which section is expanded. This applies
   on both desktop and mobile. */
.dropdown.open > a {
  /* When a dropdown is open, use the brand green background with dark text on desktop.
     On mobile the nav-open overrides will enforce a dark text colour on white backgrounds. */
  background-color: #6BBE44;
  color: #ffffff;
}
@media (max-width: 768px) {
  .main-nav {
    flex-direction: column;
    align-items: center;
  }
  .main-nav > li {
    margin: 0.4rem 0;
  }
  .main-nav a {
    width: 100%;
  }
  .dropdown-menu {
    position: static;
    width: 100%;
    min-width: 100%;
  }
}

/* === Responsive header and mobile navigation overrides === */
/* Base header styling */
header {
  position: relative;
  display: flex;
  align-items: center;
  padding: 0.5rem 1rem;
  background-color: #0F1727;
  color: #ffffff;
  border-bottom: 4px solid #6BBE44;
}

header img.logo {
  height: 50px;
  margin-bottom: 0;
}

/* ===== Sticky header and enhanced mobile navigation ===== */

/* Make the header stick to the top and ensure it sits above other content */
header {
  position: sticky;
  top: 0;
  z-index: 1000;
}

@media (max-width: 900px) {
  /* Lock page scroll when the mobile menu is open */
  body.menu-open {
    overflow: hidden;
  }
  /* Hide the call button when the mobile menu is open */
  body.menu-open .call-button {
    display: none;
  }
  /* Default menu toggle icons: inject the hamburger or cross via CSS pseudo-elements */
  .menu-toggle::after {
    content: "☰";
  }
  .menu-toggle[aria-expanded="true"]::after {
    content: "✕";
  }
  /* The navigation will be collapsed by default via max-height: 0.
     When the nav-open class is added, it expands via max-height on the
     separate rule below. We avoid toggling display to allow a smooth
     sliding animation. */
  /* Stack nav items vertically when menu is open */
  header nav.nav-open .main-nav {
    flex-direction: column;
    align-items: stretch;
  }
  header nav.nav-open .main-nav > li > a {
    color: #0F1727 !important;
    border-bottom: 1px solid #eee;
  }
  /* Ensure non-dropdown top-level links (e.g. Home) have a coloured background
     matching the brand palette. Without this rule they inherit the dark
     header colour, which makes them hard to see. These links use the
     same colourways as the section headers for consistency. */
  header nav.nav-open .main-nav > li:not(.dropdown) > a {
    background: #6BBE44;
    color: #0F1727 !important;
    font-weight: 700;
    padding: 0.9rem 1rem;
  }
  /* Section headers (top-level dropdown links) as green bars */
  header nav.nav-open .dropdown > a {
    background: #6BBE44;
    color: #0F1727;
    font-weight: 700;
    padding: 0.9rem 1rem;
  }
  /* Submenus flush below their parent with light background */
  header nav.nav-open .dropdown-menu {
    position: static;
    width: 100%;
    background: #f9f9f9;
    margin: 0;
    padding: 0;
  }
  header nav.nav-open .dropdown-menu li a {
    color: #0F1727;
    padding: 0.9rem 1rem;
  }
  header nav.nav-open .dropdown-menu li a:hover {
    background: #6BBE44;
    color: #ffffff;
  }
}

/* Absolutely centre the site title between the left and right edges */
header .site-title {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  margin: 0;
  white-space: nowrap;
  font-size: 1.6rem;
}

/* Navigation sits to the right on desktop */
header nav {
  margin-left: auto;
}

/* Call button styling */
.call-button {
  background-color: #6BBE44;
  color: #0F1727;
  padding: 0.4rem 0.8rem;
  border-radius: 4px;
  text-decoration: none;
  font-weight: 600;
  margin-left: 0.5rem;
}

/* Hamburger button */
.menu-toggle {
  background: none;
  border: none;
  color: #ffffff;
  font-size: 1.8rem;
  cursor: pointer;
  margin-left: 0.5rem;
}

@media (max-width: 900px) {
  /* On small screens transform the header into a compact bar with a call button and
     hamburger toggle. Hide the site title to free up horizontal space and
     reposition the navigation as a vertical overlay when opened. */

  /* Make header content align horizontally and use space between for logo on the left
     and controls on the right */
  header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.5rem 0.75rem;
  }

  /* Hide the site title on mobile to prevent overlap with controls */
  header .site-title {
    display: none;
  }

  /* Hide the navigation bar on small screens using max-height and overflow
     rather than display:none so we can animate its opening. The nav will
     slide down smoothly when the nav-open class is added. */
  header nav {
    max-height: 0;
    overflow: hidden;
    width: 100%;
    transition: max-height 0.3s ease;
    /* Light background for the collapsed state is irrelevant because
       the nav is hidden. */
  }
  /* When the nav has the nav-open class on mobile, expand it to show
     the full menu. The max-height matches the design to prevent
     excessive height and enables scrolling when necessary. */
  header nav.nav-open {
    max-height: 70vh;
    overflow-y: auto;
    position: static;
    width: 100%;
    background-color: #ffffff;
    color: #0F1727;
    padding: 0.5rem 0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  header nav.nav-open ul {
    flex-direction: column;
    align-items: flex-start;
    padding-left: 0;
  }
  header nav.nav-open li {
    margin: 0;
    width: 100%;
  }
  header nav.nav-open a {
    width: 100%;
    color: #0F1727;
    padding: 0.8rem 1rem;
    display: block;
    /* Use a subtle divider for each link */
    border-bottom: 1px solid #eeeeee;
  }

  /* Override any earlier styles to ensure top-level links inside the
     mobile menu are dark before they are opened. Without this, some
     inherited rules may leave them white on a white background. */
  header nav.nav-open .main-nav > li > a {
    color: #0F1727 !important;
  }

  /* In the mobile nav overlay, ensure dropdown menus are positioned
     statically and span the full width so they appear directly below
     their parent item instead of overlaying the page. */
  header nav.nav-open .dropdown-menu {
    position: static;
    width: 100%;
    /* Light background for dropdown submenus */
    background-color: #f9f9f9;
    padding-left: 0;
    margin: 0;
  }

  /* Ensure submenu links are visible against the light background */
  header nav.nav-open .dropdown-menu li a {
    color: #0F1727;
    padding: 0.8rem 1rem;
  }

  /* Highlight submenu items on hover */
  header nav.nav-open .dropdown-menu li a:hover {
    background-color: #6BBE44;
    color: #ffffff;
  }

  /* Menu toggle is always visible on mobile via separate mobile menu rules.
     Call button will be styled separately to span full width when appropriate. */
}

@media (min-width: 901px) {
  /* Hide mobile-specific menu controls on larger screens. Keep the call button
     visible so users can still see a phone CTA on desktop. */
  .menu-label,
  .menu-toggle {
    display: none;
  }
  .call-button {
    display: inline-block;
  }
  /* Position the navigation flush with the right edge and vertically centre it */
  header {
    position: relative;
  }
  header nav {
    position: absolute;
    top: 50%;
    right: 0;
    transform: translateY(-50%);
    display: flex;
    margin-left: 0;
    margin-right: 0;
  }
  /* Align navigation items to the right within the nav */
  header nav ul {
    justify-content: flex-end;
  }
  /* Ensure dropdown on the last top-level item aligns to the right edge */
  header nav ul > li:last-child .dropdown-menu {
    right: 0;
    left: auto;
  }
}

/* =============================================================
   Additional mobile and accessibility improvements
   These rules are appended to improve the site's responsiveness
   on smaller screens and enhance usability for touch and keyboard
   users without altering the existing design drastically.
===============================================================*/

/* Responsive typography using clamp to scale smoothly between
   small and large viewports */
h1 {
  font-size: clamp(1.6rem, 3vw + 1rem, 2.4rem);
}
h2 {
  font-size: clamp(1.3rem, 2.5vw + 0.9rem, 1.8rem);
}
p, li {
  font-size: clamp(1rem, 1vw + 0.85rem, 1.1rem);
}

/* Increase tap target size for interactive controls on mobile */
nav a,
.call-button,
.cta-button,
.menu-toggle {
  min-height: 44px;
  min-width: 44px;
  line-height: 1.2;
}

/* Ensure focus outlines are visible for keyboard users */
a:focus,
button:focus {
  outline: 2px solid #6BBE44;
  outline-offset: 3px;
}

/* Fine‑tune extremely small screen layouts */
@media (max-width: 576px) {
  header img.logo {
    height: 40px;
  }
  .site-title {
    font-size: 1.4rem;
  }
  section {
    padding: 1rem;
  }
  .cta-button {
    width: 100%;
    padding: 0.8rem 1rem;
  }
}

/* =============================================================
   Mobile menu enhancements to better mirror the Goodbye Asbestos
   design. These rules introduce a visible “Menu” label, wrap
   header contents to allow the call button to span full width,
   and adjust call button styling on mobile devices.
=============================================================== */

/* Base styling for the menu label: hidden by default and shown on mobile */
.menu-label {
  display: none;
  font-size: 1rem;
  font-weight: 700;
  margin-right: 0.25rem;
  text-transform: uppercase;
}

/* =============================================================
   Custom navigation rules for nav elements outside the header
   The main navigation now sits outside of the header to allow the
   menu to push content down when opened. These rules override
   previous header nav styles and provide a smooth slide-down effect.
===============================================================*/

/* Base nav styling */
nav {
  background-color: #0F1727;
  /* Animate the slide-down effect */
  transition: max-height 0.4s ease-in-out;
  overflow: hidden;
}

/* Desktop nav (screens wider than 900px): always visible and arranged horizontally */
@media (min-width: 901px) {
  nav {
    max-height: none;
    /* Allow dropdown menus to overflow the nav container on desktop.
       Without this, the Services menu may be clipped because the nav
       container still has overflow:hidden from the base rule. */
    overflow: visible;
  }
  nav .main-nav {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  }
  /* Hide menu controls on large screens */
  .header-controls {
    display: none;
  }
}

/* Mobile nav (screens ≤ 900px): collapsed by default, expands when nav-open is applied */
@media (max-width: 900px) {
  /* Hide the main-nav list by collapsing the nav's height. Do not set display:none
     so that we can animate the opening with max-height. */
  nav {
    max-height: 0;
  }
  /* When nav-open is applied via JavaScript, expand the nav to reveal the menu */
  nav.nav-open {
    max-height: 100vh;
    display: block;
  }
  nav.nav-open .main-nav {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    padding: 0.5rem 0;
  }
  /* Style top-level menu links (Home, Services, About) with the brand green background
     and dark text. This applies to both dropdown triggers and standalone links. */
  nav.nav-open .main-nav > li > a {
    background-color: #6BBE44;
    color: #0F1727;
    font-weight: 700;
    padding: 0.9rem 1rem;
    border-bottom: 1px solid #0F1727;
  }
  /* Keep the same background on hover for top-level items */
  nav.nav-open .main-nav > li > a:hover {
    background-color: #6BBE44;
    color: #0F1727;
  }
  /* Submenus: expand below the parent item with a light background */
  nav.nav-open .dropdown-menu {
    display: block;
    position: static;
    background-color: #f9f9f9;
    margin: 0;
    padding: 0;
    width: 100%;
  }
  nav.nav-open .dropdown-menu li a {
    color: #0F1727;
    padding: 0.9rem 1rem;
    border-bottom: 1px solid #eeeeee;
  }
  nav.nav-open .dropdown-menu li a:hover {
    background-color: #6BBE44;
    color: #ffffff;
  }
}

/* Hide the call button when the menu is open. The body.menu-open class is toggled via JS. */
body.menu-open .call-button {
  display: none;
}

/* Always push header controls (call button, menu label and toggle) to the right on desktop */
header .header-controls {
  margin-left: auto;
}

@media (max-width: 900px) {
  /* On small screens, restructure the header controls into two rows: the
     first contains the menu label and hamburger aligned to the right, and
     the second contains the call button occupying the full width. Using
     flex-direction: column and the order property ensures consistent
     placement across all pages, preventing the hamburger from drifting to
     the left. */
  header .header-controls {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    width: 100%;
    margin-left: 0;
  }
  /* Place the call button on its own row and make it full width */
  header .header-controls .call-button {
    order: 2;
    width: 100%;
    margin: 0.5rem 0 0;
    text-align: center;
  }
  /* Keep the menu label and toggle together on the top row and align them
     to the right. The order ensures they appear before the call button. */
  header .header-controls .menu-label,
  header .header-controls .menu-toggle {
    order: 1;
    align-self: flex-end;
  }
}

/* Make the logo more prominent by increasing its height. Placed near the end of the
   stylesheet so it overrides earlier definitions. Use !important to ensure this
   value wins over any previous declarations. */
header img.logo {
  /* Increase logo size further for better prominence on mobile and desktop */
  height: 90px !important;
  margin-bottom: 0;
}
@media (max-width: 576px) {
  header img.logo {
    height: 70px !important;
  }
}

@media (max-width: 900px) {
  /* Show the menu label next to the hamburger icon on small screens */
  .menu-label {
    display: inline-block;
    color: #ffffff;
  }
  /* Wrap header content so items can flow onto new lines when needed */
  header {
    flex-wrap: wrap;
  }
  /* Make the call button stretch across the available width on mobile
     and add vertical spacing. The button remains hidden when the
     navigation is open via existing nav-open rules. */
  .call-button {
    display: block;
    width: 100%;
    margin: 0.5rem 0 0;
    text-align: center;
  }
}
